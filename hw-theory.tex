\documentclass[10pt,a4paper,oneside]{article}
\usepackage[utf8]{inputenc}
\usepackage[english,russian]{babel}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{enumerate}
\usepackage{stmaryrd}
\usepackage{cmll}
\usepackage{mathrsfs}
\usepackage{hyperref}
\usepackage[left=2cm,right=2cm,top=2cm,bottom=2cm,bindingoffset=0cm]{geometry}
\usepackage{proof}
\usepackage{tikz}
\usepackage{multicol}

\makeatletter
\newcommand{\dotminus}{\mathbin{\text{\@dotminus}}}

\newcommand{\@dotminus}{%
  \ooalign{\hidewidth\raise1ex\hbox{.}\hidewidth\cr$\m@th-$\cr}%
}
\makeatother

\usetikzlibrary{arrows,backgrounds,patterns,matrix,shapes,fit,calc,shadows,plotmarks}

\newtheorem{definition}{Определение}
\begin{document}

\begin{center}{\Large\textsc{\textbf{Теоретические домашние задания}}}\\
             \it Теория типов, ИТМО, М3235-М3239, осень 2021 года\end{center}

\section*{Домашнее задание №1: <<вводная лекция>>}

\begin{enumerate}

\item Напомним правила расстановки скобок в лямбда-выражениях. Лямбда-абстракция ведёт себя жадно: 
включает всё, что может. Пример: $\lambda z.(\lambda x.a\ b\ c\ \lambda y.d\ e)\ f$ 
эквивалентно $\lambda z.((\lambda x.(a\ b\ c\ (\lambda y.(d\ e))))\ f)$.
В аппликациях скобки расставляются слева направо:
$\lambda z.(\lambda x.(a\ b\ c\ (\lambda y.(d\ e))))\ f$ можно преобразовать в  
$(\lambda z.((\lambda x.((((a\ b)\ c)\ (\lambda y.(d\ e)))))\ f))$.

\begin{enumerate}
\item Расставьте скобки в выражении:
$\lambda z.\lambda x.a\ b\ c\ \lambda y.d\ e\ f$
\item Уберите все <<лишние>> скобки из выражения:
$(\lambda f.((\lambda x.(f\ (f\ (x\ (\lambda z.(z\ x))))))\ z))$
\item Всегда ли лишние скобки можно убрать единственным образом (когда из результирующего
выражения нельзя больше убрать ни одной пары скобок)? Докажите или опровергните.
\end{enumerate}

\item Напомним определения с лекций:

\begin{tabular}{lll}
Обозначение & лямбда-терм & название\\\hline
$T$ & $\lambda a.\lambda b.a$ & истина\\
$F$ & $\lambda a.\lambda b.b$ & ложь\\
$Not$ & $\lambda x.x\ F\ T$ & отрицание\\
$And$ & $\lambda x.\lambda y.x\ y\ F$ & конъюнкция
\end{tabular}

Проредуцируйте следующие выражения и найдите нормальную форму:

\begin{enumerate}
\item $T\ F$
\item $(T\ Not\ (\lambda t.t))\ F$
\item $And\ (And\ F\ F)\ T$
\end{enumerate}

\item Постройте лямбда-выражения для следующих булевских выражений:
\begin{enumerate}
\item Дизъюнкция
\item Штрих Шеффера (<<и-не>>)
\item Исключающее или
\end{enumerate}

\item Напомним определения с лекций:

$$f^{(n)}\ X ::= \left\{\begin{array}{ll} X, & n=0\\
                                f^{(n-1)}\ (f\ X), & n>0\end{array}\right.$$

\begin{center}\begin{tabular}{lll}
Обозначение & лямбда-терм & название\\\hline
$\overline{n}$ & $\lambda f.\lambda x.f^{(n)}\ x$ & чёрчевский нумерал\\
$(+1)$ & $\lambda n.\lambda f.\lambda x.n\ f\ (f\ x)$ & прибавление 1\\
$(+)$ & $\lambda a.\lambda b.a\ (+1)\ b$ & сложение\\
$(\cdot)$ & $\lambda a.\lambda b.a\ ((+)\ b)\ \overline{0}$ & умножение
\end{tabular}\end{center}

Используя данные определения, постройте выражения для следующих операций над числами:

\begin{enumerate}
\item Умножение на 2 ($Mul2$)
\item Возведение в степень
\item Проверка на чётность
\item IsZero: возвращает $T$, если аргумент равен нулю, иначе $F$
\end{enumerate}

\item Напомним определения с лекций:

\begin{tabular}{lll}
Обозначение & лямбда-терм & название\\\hline
$MkPair$ & $\lambda a.\lambda b.(\lambda x.x\ a\ b)$ & создание пары\\
$PrL$ & $\lambda p.p\ T$ & левая проекция\\
$PrR$ & $\lambda p.p\ F$ & правая проекция\\\hline
\end{tabular}

\begin{enumerate}
\item Убедитесь, что $PrL\ (MkPair\ a\ b) \twoheadrightarrow_\beta a$.
\item Постройте операцию вычитания 1 из числа
\item Постройте операцию вычитания чисел
\item Постройте операцию деления на 3 (могут потребоваться пары и/или вычитания)
\item Постройте операцию деления чисел
\item Сравнение двух чисел ($IsLess$) — истина, если первый аргумент меньше второго.
\end{enumerate}

\item Существует ли выражение $A$, что существуют такие выражения $B$ и $C$, что
$A \rightarrow_\beta B$ и $A \rightarrow_\beta C$, но $B$ и $C$ различны?

\item Будем говорить, что лямбда-выражение находится в нормальной форме, если в нём невозможно
провести бета-редукции. Нормальной формой выражения называется результат (возможно, многократной)
его бета-редукции, находящийся в нормальной форме. 
Проредуцируйте выражение и найдите его нормальную форму: 
\begin{enumerate}
\item $\overline{2}\ \overline{2}$
\item $\overline{2}\ \overline{2}\ \overline{2}$
\item $\overline{2}\ \overline{2}\ \overline{2}\ \overline{2}\ \overline{2}\ \overline{2}\ \overline{2}$
\end{enumerate}

\item Напомним определение Y-комбинатора: $\lambda f.(\lambda x.f\ (x\ x))\ (\lambda x.f\ (x\ x))$.
Напомним, что отношение бета-эквивалентности $(=_\beta)$ есть транзитивное, рефлексивное и симметричное
замыкание отношения бета-редукции. Будем говорить, что выражение не имеет нормальной формы, если
никакая конечная последовательность его бета-редукций не приводит к выражению в нормальной форме.
\begin{enumerate}
\item Покажите, что $Y\ f =_\beta f\ (Y\ f)$.
\item Покажите, что выражение $Y\ f$ не имеет нормальной формы;
\item Покажите, что выражение $Y\ (\lambda f.\overline{0})$ имеет нормальную форму.
\item Покажите, что выражение $Y\ (\lambda f.\lambda x.(IsZero\ x)\ \overline{0}\ (f\ Minus1\ x))\ 2$ имеет нормальную форму.
\item Какова нормальная форма выражения $Y\ (\lambda f.\lambda x.(IsZero\ x)\ \overline{0}\ ((+1)\ (f\ (Minus1\ x))))\ \overline{n}$?
\item Какова нормальная форма выражения $Y\ (\lambda f.\lambda x.(IsZero\ x)\ \overline{1}\ (Mul2\ (f\ (Minus1\ x))))\ \overline{n}$?
\item Определите с помощью $Y$-комбинатора функцию для вычисления $n$-го числа Фибоначчи.
\end{enumerate}

\item Определим на языке Хаскель следующую функцию: \verb!show_church n = show (n (+1) 0)!
Убедитесь, что \verb!show_church (\f -> \x -> f (f x))! вернёт 2. 
Пользуясь данным определением и его идеей, реализуйте следующие функции:

\begin{enumerate}
\item \verb!int_to_church! --- возвращает чёрчевский нумерал (т.е. функцию от двух аргументов) по целому числу.
Каков точный тип результата этой функции?
\item сложение двух чёрчевских нумералов.
\item умножение двух чёрчевских нумералов.
\item можно ли определить функцию вычитания 1 и вычитания двух чисел? Что получается, а что --- нет?
\end{enumerate}

\item Бесконечное количество комбинаторов неподвижной точки. Дадим следующие определения
$$\begin{array}{l}
L := \lambda abcdefghijklmnopqstuvwxyzr.r(thisisafixedpointcombinator)\\
R := LLLLLLLLLLLLLLLLLLLLLLLLLL\end{array}$$
В данном определении терм $R$ является комбинатором неподвижной точки: каков бы ни был терм
$F$, выполнено $R\ F =_\beta F\ (R\ F)$.
\begin{enumerate}
\item Докажите, что данный комбинатор --- действительно комбинатор неподвижной точки.
\item Пусть в качестве имён переменных разрешены русские буквы. Постройте аналогичное выражение
по-русски: с 32 параметрами (без ё) и осмысленной русской фразой в терме $L$; покажите, что оно является
комбинатором неподвижной точки.
\end{enumerate}

\item Дадим определение: комбинатор --- лямбда-выражение без свободных переменных.

Также напомним определение:
$$\begin{array}{l}
S := \lambda x.\lambda y.\lambda z.x\ z\ (y\ z)\\
K := \lambda x.\lambda y.x\\
I := \lambda x.x
\end{array}$$

Известна теорема о том, что для любого комбинатора $X$ можно найти выражение $P$
(состоящее только из скобок, пробелов и комбинаторов $S$ и $K$), что $X =_\beta P$.
Будем говорить, что комбинатор $P$ \emph{выражает} комбинатор $X$ в базисе $SK$.

Выразите в базисе $SK$:
\begin{enumerate}
\item $F = \lambda x.\lambda y.y$
\item $\overline{1}$
\item $Not$
\item $Xor$
\item $InL$
\item $\overline{n}$
\end{enumerate}

\end{enumerate}

\section*{Домашнее задание №2: <<формализация лямбда-исчисления>>}

\begin{enumerate}
\item Придумайте грамматику для лямбда-выражений, однозначно разбирающую любое выражение
(в частности, учитывающую все сокращения скобок в записи).
\item Приведите пример лямбда-выражения, корректная бета-редукция которого невозможна без переименования
связанных переменных. Возможно ли, чтобы в этом выражении все переменные в лямбда-абстракциях
были различными?
\item Два выражения $A$ и $B$ назовём родственными, если существует $C$, что
$A \twoheadrightarrow_\beta C$ и $B \twoheadrightarrow_\beta C$.
Как соотносится родственность и бета-эквивалентность? 

\item Рассмотрим представление лямбда-выражений де Брауна (de Bruijn): вместо имени связанной переменной будем 
указывать число промежуточных лямбда-абстракций между связывающей абстрацией и переменной.
Например, $\lambda x.\lambda y.y\ x$ превратится в $\lambda.\lambda.0\ 1$.

Докажите, что $A =_\alpha B$ тогда и только тогда, когда представления де Брауна для $A$ и $B$ совпадают.
Сформулируйте правила (алгоритмы) для подстановки термов и бета-редукции для этого представления.

\item Как мы знаем, $\Omega \rightarrow_\beta \Omega$. А существуют ли такие лямбда-выражения
$A$ и $B$ ($A \ne_\alpha B$), что $A \rightarrow_\beta B$ и $B \rightarrow_\beta A$?

\item Рассмотрим следующие лямбда-выражения для задания алгебраических типов:

\begin{tabular}{lll}
Обозначение & лямбда-терм & название\\\hline
$Case$ & $\lambda l.\lambda r.\lambda c.c\ l\ r$ & сопоставление с образцом\\
$InL$ & $\lambda l.(\lambda x.\lambda y.x\ l)$ & левая инъекция\\
$InR$ & $\lambda r.(\lambda x.\lambda y.y\ r)$ & правая инъекция\\
\end{tabular}

Сопоставление с образцом --- это функция от значения алгебраического типа и двух действий $l$ и $r$, 
которая выполняет действие $l$, если значение создано <<левым>> конструктором, и $r$ в случае
<<правого>> конструктора. Иными словами, $Case\ l\ r\ c$ --- это аналог
\verb!case c { InL x -> l x; InR x -> r x }!.

Заметим, что список (например, целых чисел) — это алгебраический тип: 

\verb!List = Nil | Cons Integer List!.

Можно сконструировать значение данного типа: \verb!Cons 3 (Cons 5 Nil)!.
Можно, например, вычислить его длину:
\begin{verbatim}
length Nil = 0
length (Cons _ tail) = length tail + 1
\end{verbatim}

Определим $Nil = InL\ 0$, а $Cons\ a\ b = InR\ (MkPair\ a\ b)$. Заметим, что теперь списки могут быть впрямую
перенесены в лямбда выражения. 

Определите следующие функции в лямбда-исчислении для списков:
\begin{enumerate}
\item вычисление длины списка;
\item построение списка длины $n$ из элементов $0, 1, 2, \dots, n-1$;
\item разворот списка: из списка $a_1, a_2, \dots, a_n$ сделать список $a_n, a_{n-1}, \dots, a_1$;
\item функцию высшего порядка $map$, которая по функции $f$ и списку $a_1, a_2, \dots, a_n$
строит список $f(a_1), f(a_2), \dots, f(a_n)$.
\end{enumerate}

Решением задачи является полный текст соответствующего лямбда-выражения с объяснениями механизма его работы.
Используйте интерпретатор лямбда-выражений $lci$ или аналогичный для демонстрации результата.

\item Чёрчевские нумералы соответствуют натуральным числам в аксиоматике Пеано.
\begin{enumerate}
\item Предложите <<двоичные нумералы>> --- способ кодирования чисел, аналогичный двоичной системе 
(такой, при котором длина записи числа соответствует логарифму числового значения).
\item Предложите реализацию функции (+1) в данном представлении.
\item Предложите реализацию лямбда-выражения преобразования числа из двоичного нумерала в чёрчевский.
\end{enumerate}

Аналогично прошлому заданию, решение должно содержать полный код лямбда-выражения вместе с объяснением механизма его работы.

\end{enumerate}

\section*{Домашнее задание №3: <<просто-типизированное лямбда исчисление>>}

\begin{enumerate}
\item Оцените временн\'{у}ю сложность сложения, вычитания, умножения, деления, вычисления факториала 
(реализация с помощью $Y$-комбинатора) для чёрчевских нумералов в лямбда-исчислении.

\item Докажите обитаемость следующих типов с помощью вывода 
в просто-типизированном лямбда-исчислении и с помощью программы на Хаскеле.
\begin{enumerate}
\item $(\alpha\rightarrow\beta\rightarrow\gamma)\rightarrow(\beta\rightarrow\alpha\rightarrow\gamma)$
\item $(\alpha\rightarrow\alpha\rightarrow\beta)\rightarrow(\alpha\rightarrow\beta)$
\end{enumerate}

\item Лемма о расширении типа: докажите, что если $\Gamma\vdash A:\tau$, $\Gamma\vdash B: \sigma$,
$A \rightarrow_\beta B$, то $\Gamma\vdash A: \sigma$.

\item Верно ли, что если $A =_\beta B$, $\vdash A: \tau$ и $\vdash B: \sigma$, то $\vdash B: \tau$? 
Докажите или приведите опровергающий контрпример.

\item Рассмотрим остальные базовые логические связки ($\with$, $\vee$, $\bot$) и соответствующие
им расширенные лямбда-выражения:

\vspace{2mm}
\begin{tabular}{cp{5mm}cp{5mm}c}
	\infer{\Gamma \vdash \langle A, B \rangle: \varphi \with \psi}{\Gamma\vdash A: \varphi \;\;\;\; \Gamma\vdash B: \psi} &&
	\infer{\Gamma \vdash \pi_l \langle A, B \rangle : \varphi}{\Gamma \vdash \langle A, B \rangle: \varphi \with \psi} &&
	\infer{\Gamma \vdash \pi_r \langle A, B \rangle : \psi}{\Gamma \vdash \langle A, B \rangle: \varphi \with \psi}
\\ \\
	\infer{\Gamma \vdash \textbf{in}_l \; A: \varphi \vee \psi}{\Gamma\vdash A: \varphi}&&
	\infer{\Gamma \vdash \textbf{in}_r \; B: \varphi \vee \psi}{\Gamma\vdash B: \psi}&&
	\infer{\textbf{case} \; L \; f \; g : \tau}{\Gamma \vdash L: \varphi \vee \psi \;\;\; \Gamma \vdash f : \varphi \to \tau \;\;\; \Gamma \vdash g: \psi \to \tau}

\\ \\
 &&	\infer{\Gamma \vdash A : \tau}{\Gamma \vdash A: \bot}

\end{tabular}
\vspace{2mm}

Конструкции $\langle A,B\rangle$, $\textbf{case}$ и им подобные --- это новые конструкции для записи выражений:
запись $\lambda x.\langle x,\lambda y.\textbf{in}_l\ x\rangle$ вполне возможна.
Конечно, в бестиповом исчислении $\langle A,B\rangle$ может быть задано как терм $\lambda p.p\ A\ B$, но
в просто-типизированном исчислении выразительной силы языка для его типизации не хватит, потому
мы ввели специальные конструкции со своими специальными правилами типизации.
Заметьте, что правила введения лжи не существует (иначе теория станет противоречивой).

В каждом из подзаданий напишите: (i) лямбда-выражения, доказывающие утверждения,
(ii) соответствующие им программы на Хаскеле, (iii) а также покажите, что эти выражения действительно имеют соответствующий тип
($\alpha\rightarrow\bot$ обозначим как $\neg\alpha$).
\begin{enumerate}
\item $\alpha\vee\beta\rightarrow\neg(\neg\alpha\with\neg\beta)$
\item $\alpha\with\beta\rightarrow\neg(\neg\alpha\vee\neg\beta)$
\item $\alpha\with(\beta\vee\gamma)\rightarrow(\alpha\with\beta)\vee(\alpha\with\gamma)$
\item $(\alpha\rightarrow\beta)\rightarrow(\neg\beta\rightarrow\neg\alpha)$
\item $\alpha\rightarrow\neg\alpha\rightarrow\beta$
\end{enumerate}

\item Зафиксируем атомарный тип $\alpha$ и определим $\eta$ как $(\alpha\rightarrow\alpha)\rightarrow(\alpha\rightarrow\alpha)$.
Пусть $\vdash A:\eta\rightarrow\eta\rightarrow\eta$, $M\equiv\overline{m}$, $N\equiv\overline{n}$, и $f$ --- некоторая
свободная переменная типа $\alpha\rightarrow\alpha$.
Покажите, что:
\begin{enumerate}
\item Cложение и умножение имеют тип $\eta\rightarrow\eta\rightarrow\eta$ (указание: не каждая реализация этих операций имеет такой тип).
\item Любое подвыражение внутри нормальной формы $A\ M\ N\ f$ имеет тип либо $\alpha$, либо $\alpha\rightarrow\alpha$, либо $\eta$.
\item Тип $\eta$ внутри нормальной формы $A\ M\ N\ f$ могут иметь только термы $M$ и $N$.
\item Тип $\alpha\rightarrow\alpha$ внутри нормальной формы $A\ M\ N\ f$ могут иметь только термы 
\begin{enumerate}\item $f$; \item $M\ X$ и $N\ X$ при некотором $X$;
\item $\lambda x.S_1\ (S_2\ \dots (S_k\ y)\ ))$, где $S_i \equiv h$, либо $S_i \equiv M\ X$, либо $S_i \equiv N\ X$ при некотором $X$.\end{enumerate}
\item Обозначим за $X^n(x)$ $n$-кратное применение $X$ к аргументу $x$, а за $P(m,n)$ --- полином от $m$ и $g$.
Тогда любое выражение $S: \alpha\rightarrow\alpha$, являющееся подвыражением нормальной формы $A\ M\ N\ f$, есть либо полином применений $f$
к аргументу ($S =_\beta \lambda x.f^{P(m,n)}(x)$), либо константная функция ($S =_\beta \lambda x.f^{P(m,n)}(y)$, $x \not\equiv y$).
\item Пусть $E(m,n)$ --- \emph{расширенный полином} ($P_i$ --- натуральные полиномы, $c$ --- некоторая натуральная константа):
$$E(m,n) = \left\{\begin{array}{ll}P_1(m,n)&m > 0,\ n > 0\\P_2(m)&m > 0,\ n =0\\P_3(n)&m = 0,\ n > 0\\c&m = 0,\ n = 0\end{array}\right.$$
Покажите, что любая функция, имеющая тип $\eta$, вычисляет некоторый расширенный полином.
То есть, если $A:\eta\rightarrow\eta\rightarrow\eta$, то найдётся такой $E(m,n)$, что при всех $m,n \in \mathbb{N}_0$ выполнено
$A\ M\ N =_\beta \overline{E(m,n)}$.
\end{enumerate}

\end{enumerate}

\section*{Домашнее задание №4: <<просто-типизированное лямбда исчисление>>}
\begin{enumerate}
\item Сформулируйте аксиомы для просто типизированного исчисления по Чёрчу. 
\emph{Указание:} аксиомы должны быть согласованы с типами аргументов
лямбда-абстракций.
\item Рассмотрим типизацию по Чёрчу. Определим стирающее преобразование $|\cdot|: \Lambda \rightarrow \Lambda_\textrm{ч}$:

$$|A| = \left\{ \begin{array}{ll} \alpha,& A = \alpha\\
                                  |P| |Q|,& A = P Q\\
                                  \lambda x.|P|,& A = \lambda x^\tau.P \end{array}  \right.$$

Верно ли следующее: если $P \rightarrow_\beta Q$ и $|P'|=P$, $|Q'|=Q$, то $P'\rightarrow_\beta Q'$.
\item Покажите, что если $A =_\alpha B$ и $\Gamma\vdash A:\tau$, то $\Gamma\vdash B:\tau$ (или, иными словами,
доказательство не зависит от выбора пред-лямбда-терма).
\end{enumerate}

\section*{Домашнее задание №5: <<логика второго порядка, система F>>}
\begin{enumerate}
\item Будем говорить, что связка $\alpha\star\beta$ \emph{выражается} через формулу $F(\alpha,\beta)$,
если в правила вывода для связки $\star$ после замены связок на формулы превращаются в теоремы.
Как уже было упомянуто на лекции, логические операции могут быть выражены через следующие выражения
в логике второго порядка:
$$\alpha\with\beta \equiv \forall\xi.(\alpha\rightarrow\beta\rightarrow\xi)\rightarrow\xi$$
$$\alpha\vee\beta \equiv \forall\xi.(\alpha\rightarrow\xi)\rightarrow(\beta\rightarrow\xi)\rightarrow\xi$$
$$\bot \equiv \forall\xi.\xi$$
$$\exists \alpha.\varphi \equiv \forall\xi.(\forall\alpha.\varphi\rightarrow\xi)\rightarrow\xi$$
Покажите, что правила вывода (аналогичны правилам исчисления высказываний)
превратятся в теоремы для:
\begin{enumerate}
\item конъюнкции (3 правила);
\item дизъюнкции (3 правила);
\item квантора существования. Данные правила ранее не приводились, поэтому укажем их:
$$\infer{\Gamma\vdash\exists p.\varphi}{\Gamma\vdash\varphi[p := \theta]} \quad\quad\quad\quad
  \infer[p \notin FV(\Gamma)]{\Gamma\vdash\psi}{\Gamma\vdash\exists p.\varphi\;\;\;\Gamma,\varphi\vdash\psi}$$
\item Покажите, что ограничение $p\notin FV(\Gamma)$ существенно в правиле удаления квантора существования.
\end{enumerate}
\item Покажите, что если принять $\langle A,B\rangle^{\alpha\with\beta} \equiv \Lambda\xi.\lambda p^{\alpha\rightarrow\beta\rightarrow\xi}.p\ A\ B$,
то правила для $\alpha\with\beta$ соответствуют правилам вывода для упорядоченной пары в системе F 
(правила достаются по наследству из $\lambda_\rightarrow$).
\item Покажите, что если принять $\textbf{in}_L A^{\alpha\vee\beta} \equiv \Lambda\xi.\lambda p^{\alpha\rightarrow\xi}.\lambda q^{\beta\rightarrow\xi}.p\ A$
(аналогично, $\textbf{in}_R B^{\alpha\vee\beta} \equiv \Lambda\xi.\lambda p^{\alpha\rightarrow\xi}.\lambda q^{\beta\rightarrow\xi}.q\ B$),
то правила для $\alpha\vee\beta$ соответствуют правилам вывода для алгебраического типа в системе F.
\item Пусть чёрчевский нумерал задаётся как $\Lambda\alpha.\lambda f^{\alpha\rightarrow\alpha}.\lambda x^\alpha.f^n\ x$.
Соответственно, целочисленный тип будет $\eta = \forall\alpha.(\alpha\rightarrow\alpha)\rightarrow(\alpha\rightarrow\alpha)$.
Покажите, что следующие операции выразимы в системе $F$ (то есть, существует лямбда-выражение $f_\star: \eta\rightarrow\eta\rightarrow\eta$,
что $f_\star\ \overline{m}\ \overline{n} =_\beta \overline{m \star n}$):
\begin{enumerate}
\item умножение;
\item вычитание 1;
\item вычитание;
\item возведение в степень.
\end{enumerate}
\item Определите (аналогично предыдущему пункту) полиморфный тип для булевского выражения и покажите выразимость
в нём:
\begin{enumerate}
\item отрицания;
\item операции \verb!Xor!.
\end{enumerate}
\item Покажите, что $Y$-комбинатор не типизируется по Карри в системе $F$.
\item Покажите, что $(\lambda x.x\ x)\ (\lambda z.z\ y\ z)$ типизируется по Карри в системе $F$.
\end{enumerate}

\section*{Домашнее задание №6: <<экзистенциальные типы>>}
\begin{enumerate}
\item Покажите, что указанная на лекции реализация \verb!abstype! действительно имеет указанный тип.
Покажите, что она действительно соответствует аксиоме для квантора существования в смысле изоморфизма
Карри-Ховарда (какой?).
\item Покажите, что указанная на лекции реализации \verb!pack! действительно имеет указанный тип.
Покажите, что она действительно соответствует аксиоме для квантора существования в смысле изоморфизма
Карри-Ховарда (какой?).
\item Рассмотрите реализацию экзистенциальных типов на Хаскеле (файл \verb!existential.hs! в текущем
репозитории). Модифицируйте её для реализации \emph{очереди с приоритетами}: должны быть предусмотрены
функции для создания пустой очереди, добавления целого числа с приоритетом (также целым числом),
взятия самого первого целого числа с минимальным приоритетом (предусмотрите случай пустой очереди), 
проверки пустоты очереди. Дайте две реализации данного АТД (простую и эффективную), и также 
приведите пример использования типа.
\item Рассмотрим АТД \verb!Counter!, имеющий текущее состояние, функции увеличения, уменьшения 
и проверки на ноль:
$\sigma \equiv \exists \alpha . \alpha \with (\alpha\rightarrow\alpha) \with (\alpha\rightarrow\alpha) \with (\alpha\rightarrow\texttt{Bool})$.
Определите его на Хаскеле аналогично предыдущему пункту. 
Далее, определите значение (<<конструктор>>) $\texttt{createZero}: \sigma$ и функции (<<методы>>) 
$\texttt{inc}: \sigma\rightarrow\sigma$, $\texttt{dec}: \sigma\rightarrow\sigma$, $\texttt{isZero}: \sigma\rightarrow\texttt{Bool}$.
Реализуйте данный АТД на Хаскеле двумя разными способами, а также 
создайте список из разнородных (по разному реализованных)
счётчиков и продемонстрируйте, что он ведёт себя ожидаемым образом. 
Главное отличие от предыдущего задания: мы не пытаемся вызывать код
пользователя из \verb!abstype! (мы не работаем с модулем, реализующим 
АТД), вместо этого мы открываем и обратно упаковываем 
экзистенциальный тип при каждом вызове функции (<<посылаем сообщения>> АТД).
\end{enumerate}

\section*{Домашнее задание №7: <<типовая система Хиндли-Милнера>>}
\begin{enumerate}
\item \emph{О выразительной силе HM.} Заметим, что список --- это <<параметризованные>> числа в 
аксиоматике Пеано. Число --- это длина списка, а к каждому штриху мы присоединяем какое-то значение.
Операции добавления и удаления элемента из списка --- это операции прибавления и вычитания
единицы к числу.

Рассмотрим тип <<бинарного списка>> (расширение Окамля):

\begin{verbatim}
type 'a bin_list = Nil | Zero of (('a*'a) bin_list) | One of 'a * (('a*'a) bin_list);;
\end{verbatim}

и операцию добавления элемента к списку:

\begin{verbatim}
let rec add elem lst = match lst with
    Nil -> One (elem,Nil)
  | Zero tl -> One (elem,tl)
  | One (hd,tl) -> Zero (add (elem,hd) tl)
\end{verbatim}

\begin{enumerate}
\item Какой тип имеет \verb!add! (обратите внимание на ключевое слово \verb!rec!: для 
точного указания соответствующего лямбда-выражения и вывода типа необходимо использовать Y-комбинатор)?
Считайте, что семейство типов \verb!bin_list 'a! предопределено и обозначается как $\tau_\alpha$.
Выразим ли этот тип в системе Хиндли-Милнера?
\item Реализуйте предложенный тип и функцию \verb!add! на Хаскеле (используйте опцию \verb!RankNTypes!).
Также реализуйте функцию для удаления элемента списка (головы).
\item Предложите функцию для эффективного соединения двух списков (источник для 
вдохновения --- сложение двух чисел в столбик).
\item Предложите функцию для эффективного выделения $n$-го элемента из списка.
\end{enumerate}
\item На занятии мы рассмотрели функцию \verb!strange_pair x = (x 1, x "a")!.
Покажите, что данную функцию невозможно типизировать в типовой системе Хиндли-Милнера.
Указания: (а) ограничение мономорфизма отношения к делу не имеет;
(б) ограничение на правило введения квантора всеобщности может оказаться существенным.
\item Покажем, что алгоритм $W$ действительно находит корректный тип для лямбда-выражения
(доказательство, что он находит наиболее общий тип, мы оставим в стороне).
Для этого докажем по индукции, что $W(\Gamma,X)$ действительно находит такие тип $\tau$ и подстановку $S$,
что $S(\Gamma) \vdash X:\tau$:
\begin{enumerate}
\item покажите базу индукции: $W(\Gamma,x)$;
\item покажите случай аппликации: $W(\Gamma,P\ Q)$;
\item покажите случай лямбда-абстракции: $W(\Gamma,\lambda x.P)$;
\item покажите случай \verb!let!-выражения: $W(\Gamma,\texttt{let}\ x=P\ \texttt{in}\ Q)$.
\end{enumerate}
\item Покажите, что в Хаскеле выражается $Y: \forall \alpha.(\alpha\rightarrow\alpha)\rightarrow\alpha$ и
правило исключённого третьего $E: \alpha\vee\neg\alpha$.
\item Возможно ли в C++ построить выражения с типами ранга два и выше (включая конструкции с темплейтами)? 
Приведите пример, если да.
\end{enumerate}

\section*{Домашнее задание №8: <<обобщённые типовые системы>>}
\begin{enumerate}
\item Укажите тип (род) в исчислении конструкций для следующих выражений (при необходимости определите
типы используемых базовых операций и конструкций самостоятельно) и докажите его:
\begin{enumerate}
\item Функция возведения целого числа в квадрат: \verb!sq x = x * x!
\item \verb!sizeof!
\item \verb!std::map!
\item Монада \verb!ST! из Хаскеля
\item Пусть задано выражение рода $\textbf{nonzero}: \star\rightarrow\star$, выбрасывающее нулевой элемент из
типа. Например, $\textbf{nonzero}\ \textbf{unsigned}$ --- тип положительных целых чисел.
Определите, каков в коде
\begin{verbatim}
template<typename T, T x>
struct NonZero { const static std::enable_if_t<x != T(0), T> value = x; };
\end{verbatim}
будет тип (род) поля value.
\end{enumerate}

\item Приведём следующее странное рассуждение: если мы рассмотрим правый нижний дальний угол лямбда-куба,
соответствующий $S = \{ \langle\star,\star\rangle, \langle\star,\square\rangle, \langle\square,\star\rangle\}$,
то можем заметить, что теоретически возможно существование функций, отображающих тип в значение --- 
а потом значение в тип
(например, по типу вернуть его название в строке, изменить его, а потом по изменённому названию построить другой тип).

Поясните, почему тем не менее необходимо существование случая $\langle\square,\square\rangle$ в аксиоматике,
почему всё равно мы не сможем формально построить функции рода $\Pi x^\star.F\ x$ в такой теории.

\item Предложите выражение на языке C++ (возможно, использующее шаблоны), имеющее следующий род (тип):
\begin{enumerate}
\item $\textbf{int}\rightarrow(\star\rightarrow\star)$
\item $(\star\rightarrow\textbf{int})\rightarrow\star$
\item $\Pi x^\star.n^\textbf{int}.F(n,x)$, где $$F(n,x) = \left\{\begin{array}{ll}\textbf{int}, & n = 0\\
                                   x\rightarrow F(n,x), & n > 0\end{array}\right.$$
\end{enumerate}

\item Аналогично типу $\Pi$, мы можем ввести тип $\Sigma$, соответствующий квантору существования
в смысле изоморфизма Карри-Ховарда. 
\begin{enumerate}
\item Определите правила вывода для $\Sigma$ в обобщённой типовой системе (воспользуйтесь правилами
для экзистенциальных типов в системе $F$).
\item Укажите способ выразить $\Sigma$ через $\Pi$ (также воспользуйтесь идеями для системы $F$).
\end{enumerate}

\item Рассмотрим классы типов в Хаскеле (например, \verb!Num!). Каким образом их можно представить в обобщённой
типовой системе? Как формализовать запись типа функции \verb!f :: Num a => a -> a!?
\end{enumerate}

\section*{Домашнее задание №9: <<непрерывность; связность; равенство в гомотопической теории типов>>}
\begin{enumerate}
\item Непрерывна ли функция $f: (0,1) \cup (2,3) \rightarrow [0,3] = \lambda x.x$?
\item Докажите, что если $f: \mathbb{R}\rightarrow\mathbb{R}$ и 
$$\forall \varepsilon > 0 . \exists \delta > 0. \forall x,x_0 \in \mathbb{R} . |x-x_0| < \delta \rightarrow |f(x)-f(x_0)| < \varepsilon$$
то $f$ --- непрерывна.
\item Как связана непрерывность некоторой функции $f$ и обратной к ней ($f^{-1}$), следует ли одна из другой?
\item Рассмотрим <<обратную непрерывность>>: $f$ обратно-непрерывна, если образ открытого всегда открыт.
Как связаны непрерывность и обратная непрерывность, следует ли одна из другой?
\item Пусть $X$ --- множество с антидискретной топологией (открыты $X$, $\varnothing$ и множество $X$
без конечного количества любых точек: $X \setminus \{a_0, a_1, \dots, a_{n-1}\}$ открыто при всех $n$ и $a_0, \dots, a_{n-1}$). 
\begin{enumerate}
\item Любое ли подмножество $X$ связно?
\item Любое ли подмножество $X$ линейно-связно?
\end{enumerate}
\item Постройте пример связного, но не линейно-связного множества.
\item Рассмотрим дерево с топологией замкнутости по отношению наследования (топология, предлагаемая
моделями Крипке). \begin{enumerate}
\item Приведите пример непрерывных функций из такого дерева в $\mathbb{R}$ и обратно (если они есть).
\item Приведите пример разрывных функций из такого дерева в $\mathbb{R}$ и обратно (если они есть).
\item Верно ли, что в такой топологии линейная связность эквивалентна обычной?
\end{enumerate}
\item Докажите, что любое линейно-связное множество связно.
\item Рассмотрим множество рациональных чисел: это $\mathbb{Z}^2$ с отношением эквивалентности
($\langle p_x,q_x\rangle \approx \langle p_y,q_y\rangle$ если $p_x \cdot q_y = p_y \cdot q_x$). 
Какую топологию надо задать на $\mathbb{Z}^2$, чтобы $a=b$ в смысле HOTT совпало бы с $a \approx b$?
Напомним, в гомотопической теории типов $a=b$ если существует непрерывное отображение $f: [0,1]\rightarrow X$, что
$f(0)=a$ и $f(1)=b$.
\item Пусть задан тип $X$, населённый значениями $a$, $b$ и $c$, и пусть существуют
пути $a \rightsquigarrow b$ и $b \rightsquigarrow c$ (путь здесь --- непрерывное отображение
отрезка $[0,1]$). Покажите, что $b \rightsquigarrow a$, $a \rightsquigarrow c$ и 
$f(a) \rightsquigarrow f(b)$ для любой непрерывной функции $f$.
\item Приведите примеры связных и несвязных типов в языках программирования. Как на этих типах задана топология?
\end{enumerate}

\section*{Домашнее задание №10: <<задачи на простые доказательства в Arend>>}
\begin{enumerate}
\item Докажите \verb!repl (A B : \Type) (eqProof : A = B) : A -> B! (если два типа равны, то существует функция между ними).
\item Докажите коммутативность умножения: то есть обитаемость типа $\Pi x^\texttt{Nat}. \Pi y^\texttt{Nat}. x \cdot y = y \cdot x$
\item Докажите дистрибутивность: $a \cdot (b + c) = a \cdot b + a \cdot c$.
\item Определим понятие инъективной функции: 
\begin{verbatim}\func inj (A B : \Type) (f : A -> B) => \Pi (a b : A) (eq : f a = f b) -> a = b\end{verbatim}
\begin{enumerate}
\item Докажите, что \verb!inj Nat Nat suc! обитаемо --- т.е. \verb!suc! инъективна.
\item Докажите, что если $f: A \rightarrow B$ и $g: C \rightarrow D$ инъективны, то $\lambda p.\langle f\ \pi_L(p), g\ \pi_R(p)\rangle$ тоже
инъективна.
\item Докажите, что $x^2$ инъективна.
\item Докажите, что если $f$ инъективна и $f(x)\ne f(y)$, то $x \ne y$.
\end{enumerate}
%\item Определим отношение порядка как упорядоченную пару \verb!\Sigma (C : \Type) (Rel : C -> C -> \Type)! (носитель $C$ 
%и двуместный предикат $Rel$). 
%\begin{enumerate}
%\item Определите свойство рефлексивности и покажите, что --- рефлексивно.
%\end{enumerate}
\item Докажите, что $0 \ne x + 1$.
\item Докажите, что если $a + b = a + c$, то $b = c$. Также докажите, что если $a + b \ne a + c$, то $b \ne c$.
\item Докажите, что если $x = 2 \cdot x$, то $x = 0$.
\item Докажите, что если $x^2 = x^3$, то $x = 0$ или $x=1$ (логическое или соответствует типу \verb!Or! из модуля \verb!Data.Or!).
\item Докажите, что если $a + p = c$ и $a + q = c$, то $p = q$ (логическое и соответствует упорядоченной паре --- типу \verb!\Sigma!).
\item Определите функцию ограниченного вычитания: $$S(a,b) = \begin{cases}a - b, & a \ge b\\0, & a < b\end{cases}$$
Покажите, что $S(a+b,b)=a$.
\item Определите операцию $2^n$ и покажите, что $2^{a+b} = 2^a \cdot 2^b$.
\end{enumerate}

\section*{Домашнее задание №11: <<немного математических доказательств>>}
\begin{enumerate}
\item Рассмотрим класс \verb!DistributiveLattice! из стандартной библиотеки.
\begin{enumerate}
\item Определите импликативную решётку.
Докажите, что в импликативной решётке есть $1$.
Докажите, что любая импликативная решётка дистрибутивна.
\item Определите алгебру Гейтинга и докажите, что $\forall a.\forall b.(a \rightarrow b) \rightarrow (a \rightarrow \neg b) \rightarrow \neg a$.
\item Определите булеву алгебру и докажите, что $\forall a.\neg\neg a \rightarrow a$.
\item Докажите, что если в решётке есть диамант (существуют такие вершины $a,b,c,d,e$, что $a \preceq b$, $a \preceq c$, $a \preceq d$,
$b \preceq e$, $c \preceq e$, $d \preceq e$, причём $b,c,d$ несравнимы между собой), то решётка не является импликативной.
\end{enumerate}
\item Рассмотрим класс \verb!TopSpace! из стандартной библиотеки.
\begin{enumerate}
\item Покажите, что пустое множество --- открытое (т.е. принадлежит топологии).
\item Покажите, что топологическое пространство является решёткой.
\item Покажите, что топологическое пространство является алгеброй Гейтинга.
\item Покажите, что дискретная топология является топологией.
\item Покажите, что топология стрелки на $\mathbb{N}$ (открыты все лучи вида $[x,\infty)$) является топологией.
\end{enumerate}
\item Рассмотрите класс <<группа>> из стандартной библиотеки (\verb!Algebra.Group.Group!).
\begin{enumerate}
\item Докажите, что в нём нейтральный элемент \verb!ide! единственен.
\item Определите понятие <<гомоморфизм>>. Определите понятие <<ядро гомоморфизма>>. Докажите, что 
в тождественном гомоморфизме группы на себя ядро гомоморфизма состоит только из нейтрального элемента.
\end{enumerate}
\item Рассмотрим перестановки натуральных чисел.
\begin{enumerate}
\item Определите тип <<перестановка чисел от $0$ до $n-1$>>. Докажите, что существует всего две перестановки чисел $(0,1)$.
\item Определите композицию перестановок. Покажите, что существует нейтральный элемент для перестановки.
\item Покажите, что перестановки образуют группу (\verb!Group!).
\end{enumerate}
\end{enumerate}

\section*{Домашнее задание №12: <<Универсумы, гомотопические уровни, фак\-тор-множества>>}

\begin{enumerate}
\item Пусть $\langle p_1,q_1 \rangle \approx \langle p_2,q_2 \rangle$, если $p_1 + q_2 = p_2 + q_1$.
\begin{enumerate}
\item Определите целые числа \verb!AltZ! как $\mathbb{Z}/\approx$, покажите, что они образуют кольцо (\verb!Ring!). 
\item Покажите, что существует биекция \verb!AltZ! на \verb!Int!.
\item Покажите, что равенство на \verb!AltZ! разрешимо.
\end{enumerate}
\item Покажите, что тип с разрешимым равенством --- \verb!Set!.
\item Пусть $f : G \rightarrow H$ --- гомоморфизм групп. Покажите, что $H$ изоморфен $G/\ker f$ (гомоморфный образ группы
изоморфен фактор-группе по ядру гомоморфизма).
\item Есть ли какие-то аксиомы теории множеств в аксиоматике Цермело-Френкеля (не рассматривайте аксиомы выбора и подстановки), 
которые не выполнены для \verb!Set!?
\item Определите понятие мощности множества (\verb!Set!) в Аренде. Покажите, что мощность множества \verb!Bool! равна 2.
\item Рассмотрим следующие определения:
\begin{verbatim}
\func ChurchT (x : \Type) => (x -> x) -> (x -> x)
\func Church => \Pi (x : \Type) -> ChurchT x
\func Zero : Church => \lam t f x => x

\func inc (n : Church) : Church => \lam t f x => n t f (f x)
\func add (a : Church) (b : Church) : Church => \lam t f x => a t f (b t f x)
\end{verbatim}

И так далее. Возможно ли определить (более-менее следуя реализации операций для бестипового исчисления,
развивая определения выше):
\begin{enumerate}
\item Операцию <<деление на три>> (естественно, в версии, не использующей $Y$-комбинатор)?
\item Операцию возведения в степень, определявшуюся как $\lambda m.\lambda n.n\ m$?
\end{enumerate}
\end{enumerate}

\section*{Домашнее задание №13: <<Теорема Диаконеску>>}
\begin{enumerate}
\item Определите сетоид в Аренде и постройте сетоид для кольца вычетов по модулю $k$ 
(целые числа, факторизованные по отношению сравнимости по модулю).
\item Сформулируйте на языке Аренд и докажите теорему Диаконеску для сетоидов.
\item Покажите, что \verb!Nat! --- вполне упорядоченное отношением $(\le)$ множество.
\item Пусть в аксиоме выбора из стандартной библиотеки Аренда все множества вида $B\ x$ суть разрешимые подмножества \verb!Nat!
(равенство разрешимо, и предикат, проверяющий принадлежность элемента подмножеству, тоже разрешим). 
Достаточно ли этого для доказуемости аксиомы выбора в данном случае?
\item Приведите пример семейства множеств, на котором аксиома выбора из стандартной библиотеки не выполнена. 
\item Определим аксиому выбора для отношений:
для любого отношения $R\subseteq A\times B$, такого, что $\forall x.x \in A \rightarrow \exists y.y \in B \with R(x,y)$,
существует подотношение $R' \subseteq R$, что $\forall x.x \in A \rightarrow \exists ! y.y \in B \with R'(x,y)$.
Здесь $\exists!x.\alpha(x)$ --- сокращение для утверждения <<существует единственный>>: 
$(\exists x.\alpha(x))\with(\forall x.\forall y.\alpha(x)\with\alpha(y)\rightarrow x=y)$
\begin{enumerate}
\item Покажите, что аксиома выбора для сетоидов влечёт аксиому выбора для отношений.
\item Пусть отношение $R$ на \verb!Nat! разрешимо. Покажите, что на нём доказуема аксиома выбора для отношений.
\item Доказуема ли в Аренде аксиома выбора для отношений?
\end{enumerate}
\item Верно ли, что аксиома выбора для сетоидов влечёт аксиому выбора из стандартной библиотеки Аренда?
\item Верно ли, что аксиома выбора из стандартной библиотеки Аренда влечёт аксиому выбора для сетоидов?
\end{enumerate}
                               
\section*{Домашнее задание №14: <<Пропозициональное обрезание, линейные типы>>}
\begin{enumerate}
\item Пропозиционально обрезанные типы (\verb!TruncP!) требуют специальных условий для элиминации \verb!inP!.
А именно, тип выражения, внутри которого проводится элиминация, должен иметь гомотопический 
уровень $-1$ (то есть, принадлежать универсуму \verb!\Prop!).

Далеко не для всех типов очевидно, что они имеют гомотопический уровень $-1$. 
Например, тип \verb!Dec!. Обратим внимание на два обстоятельства:
\begin{enumerate}
\item тип \verb!Dec! --- это функция из типа в тип, вспомогательная абстрактная конструкция; 
типом же, интересующим всех, является \verb!Dec P! --- результат применения данной функции;
\item каково бы ни было утверждение $P$, в типе \verb!Dec P!
всегда единственный представитель: либо \verb!yes P!, если $P$ обитаем, 
либо \verb!no (P -> Empty)!, если $P$ необитаем. 
Если бы оба эти варианта имели бы место одновременно, то Аренд был бы противоречив.
\end{enumerate}

Для таких неочевидных случаев необходимо предоставлять компилятору функцию, доказывающую равенство всех значений типа. 
Функция должна иметь префикс \verb!\use \level! и указываться как часть типа данных (используйте \verb!\where!). 
Например, в следующем типе <<простое число>> данная функция должна доказать, что любые два значения типа при данном $x$ равны:

\begin{verbatim}
\data Div3 (x : Nat)
  | remainder-zero (Exists (p : Nat) (p Nat.* 3 = x))
  | remainder-one (Exists (p : Nat) (p Nat.* 3 Nat.+ 1 = x))
  | remainder-two (Exists (p : Nat) (p Nat.* 3 Nat.+ 2 = x))
  \where \use \level levelProp {x : Nat} (a b : Div3 x) : a = b => {?}
\end{verbatim}

При необходимости (например, если функция \verb!\use \level! не указана) можно специально 
указать на доказательство пропозициональности результата, воспользовавшись 
функцией \verb!TruncP.rec!.

\begin{enumerate}
\item Замените \verb!{?}! в тексте выше на корректное доказательство.
\item Определите функцию, которая бы по $x$ и значению $\exists p q.3 \cdot p + q = x \with 0 \le q < 3$ возвращала бы \verb!Div3 x!
(понятно, можно разделить $x$ на 3, но нам уже результат деления дали вторым аргументом --- задача в том, чтобы им воспользоваться).
\item Постройте аналогичный тип \verb!Prime x! для простых чисел --- с тремя вариантами \verb!less-than-two!, \verb!is-prime!, 
\verb!is-composite! --- и определите функцию, строящую по числу значение данного типа.
\item Покажите, что в типе \verb!Prime (x*x + 2*x + 1)! всегда (кроме граничных случаев) обитает вариант \verb!is-composite!.
\item Покажите, что в типе 
\begin{verbatim}
\data SuperDec (P : \Prop)
| sure P
| nope (P -> Empty)
| neither ((P || (P -> Empty)) -> Empty)
\where \use \level superDecProp {P : \Prop} (a b : SuperDec P): a = b => {?}
\end{verbatim}
вариант \verb!neither! невозможен (также, заполните пропущенное доказательство \verb!superDecProp!).
\end{enumerate}

\item Покажите, что можно построить функцию, которая из значений \verb!x : Nat! и\\\verb!p : Exists (p : Nat) (p * p = x)! получает
\verb!\Sigma (p : Nat) (p * p = x)! (мы здесь должны существенно использовать единственность натурального корня числа).
\item Покажите, что вложения интуиционистской логики в линейную соответствуют правилам вывода для интуиционистской логики.
\item Приведите пример структур данных для C++, соответствующих связкам линейной логики (для линейных значений используйте 
уникальные указатели или аналогичные уникальные объекты). Покажите, что правила вывода выполнены.
\item Формализуйте функции доступа к массиву целых чисел: укажите их тип в линейной логике. Функции должны быть следующими:
прочесть элемент массива, изменить элемент массива, узнать длину массива, применить \verb!const! функцию к каждому элементу
массива, обновить при помощи функции каждый элемент массива, не меняющая массив свёртка (fold).
\item В статье Вадлера структурное правило перестановки гипотез указано так:

$$\infer{\Delta,\Gamma\vdash\alpha}{\Gamma,\Delta\vdash\alpha}$$

В ходе лекции было предложено вместо него рассмотреть правило с боковыми формулами:

$$\infer{\Psi,\Delta,\Gamma,\Xi\vdash\alpha}{\Psi,\Gamma,\Delta,\Xi\vdash\alpha}$$

Является ли правило с боковыми формулами необходимым? Достаточно ли формулировки Вадлера для получения любой перестановки 
гипотез?

\end{enumerate}
\end{document}
